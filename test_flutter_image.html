<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Image Loading Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .image-container {
            display: flex;
            gap: 20px;
            margin: 10px 0;
        }
        .image-item {
            text-align: center;
        }
        .image-item img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .status {
            margin-top: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
        }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .loading { background-color: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>Flutter Image Loading Simulation</h1>
    
    <div class="test-section">
        <h3>Test 1: Direct Image Loading (Like Flutter Image.network)</h3>
        <div class="image-container">
            <div class="image-item">
                <h4>Image 1</h4>
                <img id="img1" src="https://rtailed-production.up.railway.app/uploads/products/1754519116112-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg" 
                     alt="Product 1" onload="markSuccess('img1')" onerror="markError('img1')">
                <div id="status1" class="status loading">Loading...</div>
            </div>
            <div class="image-item">
                <h4>Image 2</h4>
                <img id="img2" src="https://rtailed-production.up.railway.app/uploads/products/1754387753641-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg" 
                     alt="Product 2" onload="markSuccess('img2')" onerror="markError('img2')">
                <div id="status2" class="status loading">Loading...</div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h3>Test 2: API Image Endpoint</h3>
        <div class="image-container">
            <div class="image-item">
                <h4>API Image 1</h4>
                <img id="api1" src="https://rtailed-production.up.railway.app/api/images/1754519116112-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg" 
                     alt="API Product 1" onload="markSuccess('api1')" onerror="markError('api1')">
                <div id="status3" class="status loading">Loading...</div>
            </div>
            <div class="image-item">
                <h4>API Image 2</h4>
                <img id="api2" src="https://rtailed-production.up.railway.app/api/images/1754387753641-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg" 
                     alt="API Product 2" onload="markSuccess('api2')" onerror="markError('api2')">
                <div id="status4" class="status loading">Loading...</div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h3>Test 3: Network Request Simulation</h3>
        <div id="network-status">Testing network requests...</div>
    </div>

    <script>
        function markSuccess(imgId) {
            const statusId = 'status' + (imgId.replace(/\D/g, ''));
            const status = document.getElementById(statusId);
            if (status) {
                status.textContent = '✅ Loaded successfully';
                status.className = 'status success';
            }
        }

        function markError(imgId) {
            const statusId = 'status' + (imgId.replace(/\D/g, ''));
            const status = document.getElementById(statusId);
            if (status) {
                status.textContent = '❌ Failed to load';
                status.className = 'status error';
            }
        }

        // Test network requests
        async function testNetworkRequests() {
            const statusDiv = document.getElementById('network-status');
            const testUrls = [
                'https://rtailed-production.up.railway.app/uploads/products/1754519116112-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg',
                'https://rtailed-production.up.railway.app/api/images/1754519116112-WhatsApp_Image_2025-07-27_at_11.57.42.jpeg'
            ];

            let results = [];
            
            for (let url of testUrls) {
                try {
                    const response = await fetch(url, { method: 'HEAD' });
                    results.push(`✅ ${url}: ${response.status} ${response.statusText}`);
                } catch (error) {
                    results.push(`❌ ${url}: ${error.message}`);
                }
            }

            statusDiv.innerHTML = results.join('<br>');
        }

        // Run network test
        testNetworkRequests();
    </script>
</body>
</html> 